version: "3"

# This docker-compose redefine the services:
# - ZetaChain with 2 nodes (zetacore0, zetacore1) using the upgrade option for cosmovisor
# - ZetaChain observer set with 2 clients (zetaclient0, zetaclient1) using the background option
# - Orchestrator with upgrade option

services:
  zetacore0:
    entrypoint: ["/root/start-zetacored.sh", "2", "upgrade"]

  zetacore1:
    entrypoint: ["/root/start-zetacored.sh", "2", "upgrade"]

  zetaclient0:
    entrypoint: ["/root/start-zetaclientd.sh", "background"]

  zetaclient1:
    entrypoint: ["/root/start-zetaclientd.sh", "background"]

  orchestrator:
    entrypoint: ["/work/start.sh", "local", "upgrade"]
